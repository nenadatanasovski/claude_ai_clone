<!DOCTYPE html>
<html>
<head>
    <title>Create Test Chart Image</title>
</head>
<body>
    <h1>Test Chart Image Generator</h1>
    <canvas id="chartCanvas" width="600" height="400"></canvas>
    <br><br>
    <button onclick="downloadImage()">Download Chart</button>

    <script>
        // Create a simple bar chart
        const canvas = document.getElementById('chartCanvas');
        const ctx = canvas.getContext('2d');

        // White background
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, 600, 400);

        // Title
        ctx.fillStyle = 'black';
        ctx.font = 'bold 20px Arial';
        ctx.fillText('Monthly Sales Data', 200, 40);

        // Data
        const data = [
            { label: 'Jan', value: 150 },
            { label: 'Feb', value: 230 },
            { label: 'Mar', value: 180 },
            { label: 'Apr', value: 280 },
            { label: 'May', value: 320 }
        ];

        const barWidth = 80;
        const spacing = 20;
        const startX = 80;
        const startY = 350;
        const maxHeight = 250;
        const maxValue = Math.max(...data.map(d => d.value));

        // Draw bars
        data.forEach((item, index) => {
            const x = startX + (barWidth + spacing) * index;
            const height = (item.value / maxValue) * maxHeight;
            const y = startY - height;

            // Bar
            ctx.fillStyle = '#3B82F6';
            ctx.fillRect(x, y, barWidth, height);

            // Label
            ctx.fillStyle = 'black';
            ctx.font = '14px Arial';
            ctx.fillText(item.label, x + 25, startY + 20);

            // Value
            ctx.fillText(item.value.toString(), x + 25, y - 10);
        });

        // Y-axis
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(60, 80);
        ctx.lineTo(60, 350);
        ctx.stroke();

        // X-axis
        ctx.beginPath();
        ctx.moveTo(60, 350);
        ctx.lineTo(550, 350);
        ctx.stroke();

        function downloadImage() {
            const link = document.createElement('a');
            link.download = 'test-chart.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Auto-download on load
        setTimeout(downloadImage, 500);
    </script>
</body>
</html>
